package lesson014;

public class UserManager {

	private final String emailFormat = "@xbanka.com";

	public void generateAutoEmail(User user) {
		user.setEmail(
				user.getName().toLowerCase().replace(' ', '.') + "." + user.getSurname().toLowerCase() + emailFormat);
	}
	// replace ( değiştirilmesi istenen, neyle değiştireceğiz);
	// replace(' ', '.') yerine replace(" ", ".") de olabilir

	// alternatif metod aşağıda
	public void otomatikEmailOlustur(User user) {
		String otomatikOlusanEmail = user.getName().toLowerCase().replaceAll(" ", ("."))
				.concat("." + user.getSurname().toLowerCase().replace(' ', ('.'))) + emailFormat;

		user.setEmail(otomatikOlusanEmail);

		System.out.println(otomatikOlusanEmail);
	}
	
	public void krediBasvurusundaBulun(Account account, int krediMiktari) {
		account.setKrediBasvurusu(true);
		account.setIstenenKrediMiktari(krediMiktari);
		if (krediMiktari > 0 && krediMiktari <= account.getMoney()) {
			account.setMoney(account.getMoney() + krediMiktari);
			System.out.println("kredi başvurunuz olumlu. " + krediMiktari + " TL hesabınıza aktarıldı");
		}
		else if (krediMiktari < 0){
			System.err.println("0 TL'den az başvuru giremezsiniz");
		}
		else {
			System.err.println("bakiyenizden fazla kredi başvurusunda bulunamazsınız. bakiye: " + account.getMoney());
		}
	}

}
