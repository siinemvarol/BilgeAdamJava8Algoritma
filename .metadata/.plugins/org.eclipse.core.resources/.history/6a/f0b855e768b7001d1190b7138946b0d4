package lesson016.interfaceUygulama;

import java.util.ArrayList;
import java.util.List;

public class Kutuphane implements IKutuphaneManager {

	private String name;
	private List<Kitap> kitapListesi;

	public Kutuphane(String name) {
		super();
		this.name = name;
		this.kitapListesi = new ArrayList<>();
		System.out.println("kütüphane oluştu");

	}

	@Override
	public void kitapEkle() {

		String isim = Util.stringDegerAl("Lütfen kitap ismi girin: ");
		String yazar = Util.stringDegerAl("Lütfen yazarı girin: ");
		int fiyat = Util.intDegerAl("Lütfen kitabın fiyatını girin: ");

		Kitap kitap = new Kitap(isim, yazar, fiyat);
		kitapListesi.add(kitap);
		System.out.println(kitap.getIsim() + " kütüphaneye eklendi");

	}

	@Override
	public void kitaplariListele() {
		for (Kitap kitap : kitapListesi) {
			System.out.println("Kitap ismi: " + kitap.getIsim() + " Fiyatı: " + kitap.getFiyat());
		}

	}

	@Override
	public void yazarIsmineGoreArama() {
		String yazar = Util.stringDegerAl("Yazar ismini girin: ");
		for (Kitap kitap : kitapListesi) {
			if (kitap.getYazar().equalsIgnoreCase(yazar)) {
				System.out.println(yazar + " yazarına ait " + kitap.getIsim() + " kitabı bulundu.");
			}
		}

	}

	@Override
	public void kitapSil() {
		String kitapIsmi = Util.stringDegerAl("Silmek istediğiniz kitap ismini girin: ");
		for (int i = 0; i < kitapListesi.size(); i++) {
			if (kitapListesi.get(i).getIsim().equalsIgnoreCase(kitapIsmi)) {
				System.out.println(kitapListesi.get(i).getIsim() + " kitabı silindi.");
				kitapListesi.remove(i);
				break;
			} else {
				System.err.println("silmek istediğiniz kitap bulunamadı !");
			}
			
		}

	}

	public void yazarIsmineGoreArama2() {
		String yazar = Util.stringDegerAl("Yazar ismini girin: ");
		for (int i = 0; i < kitapListesi.size(); i++) {
			if (kitapListesi.get(i).getYazar().equalsIgnoreCase(yazar)) {
				System.out.println(yazar + " yazarına ait " + kitapListesi.get(i).getIsim() + " kitabı bulundu.");
			}
		}

		for (Kitap kitap : kitapListesi) {
			if (kitap.getYazar().equalsIgnoreCase(yazar)) {
				System.out.println(yazar + " yazarına ait " + kitap.getIsim() + " kitabı bulundu.");
			}
		}

	}

	public String getName() {
		return name;
	}

	public void setName(String name) {
		this.name = name;
	}

	public List<Kitap> getKitapListesi() {
		return kitapListesi;
	}

}
